<!-- Enhanced Footer Section -->
<footer class="enhanced-footer">
    <div class="container">
        <!-- Main Footer Content -->
        <div class="row py-5">
            <!-- Clinic Info & Brand -->
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="footer-brand-section">
                    <div class="brand-header mb-4">
                        <img src="./assets/logo/logo.jpeg" alt="Lawanya Derma & Aesthetic Clinic" class="footer-logo mb-3">
                        <h4 class="brand-title">Lawanya Derma & Aesthetic Clinic</h4>
                        <p class="brand-tagline">Delhi's Premier Aesthetic Destination</p>
                    </div>
                    
                    <p class="brand-description">
                        Transform your beauty with 15+ years of expertise in advanced dermatological and aesthetic treatments. 
                        We combine cutting-edge technology with personalized care to deliver exceptional results.
                    </p>
                    
                    <div class="clinic-highlights">
                        <div class="highlight-item">
                            <i class="bi bi-award-fill"></i>
                            <span>8000+ Happy Patients</span>
                        </div>
                        <div class="highlight-item">
                            <i class="bi bi-star-fill"></i>
                            <span>4.9/5 Rating</span>
                        </div>
                        <div class="highlight-item">
                            <i class="bi bi-shield-check-fill"></i>
                            <span>ISO Certified</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Navigation -->
            <div class="col-lg-2 col-md-6 mb-4">
                <h5 class="footer-section-title">Quick Navigation</h5>
                <ul class="footer-nav-list">
                    <li><a href="#home" class="footer-nav-link"><i class="bi bi-house-door me-2"></i>Home</a></li>
                    <li><a href="#about" class="footer-nav-link"><i class="bi bi-info-circle me-2"></i>About Us</a></li>
                    <li><a href="#services" class="footer-nav-link"><i class="bi bi-heart-pulse me-2"></i>Our Services</a></li>
                    <li><a href="#gallery" class="footer-nav-link"><i class="bi bi-images me-2"></i>Gallery</a></li>
                    <li><a href="#contact" class="footer-nav-link"><i class="bi bi-telephone me-2"></i>Contact</a></li>
                </ul>
            </div>

            <!-- Our Services -->
            <div class="col-lg-3 col-md-6 mb-4">
                <h5 class="footer-section-title">Our Specialties</h5>
                <ul class="footer-services-list">
                    <li><a href="#services" class="footer-service-link"><i class="bi bi-heart-pulse me-2"></i>Advanced Skin Treatment</a></li>
                    <li><a href="#services" class="footer-service-link"><i class="bi bi-scissors me-2"></i>Hair Care & Restoration</a></li>
                    <li><a href="#services" class="footer-service-link"><i class="bi bi-lightning me-2"></i>Laser Procedures</a></li>
                    <li><a href="#services" class="footer-service-link"><i class="bi bi-activity me-2"></i>Weight Loss Programs</a></li>
                    <li><a href="#services" class="footer-service-link"><i class="bi bi-bandaid me-2"></i>Cosmetic Procedures</a></li>
                    <li><a href="#contact" class="footer-service-link text-accent"><i class="bi bi-calendar-check me-2"></i>Book Free Consultation</a></li>
                </ul>
            </div>

            <!-- Contact & Social -->
            <div class="col-lg-3 col-md-6 mb-4">
                <h5 class="footer-section-title">Get In Touch</h5>
                
                <!-- Contact Information -->
                <div class="footer-contact-info">
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="bi bi-geo-alt-fill"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Visit Our Clinic</h6>
                            <p>328/1 Part-A, Pul Pahladpur<br>Suraj Kund Road, New Delhi - 110044</p>
                        </div>
                    </div>

                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="bi bi-telephone-fill"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Call Us Now</h6>
                            <a href="tel:+917042179159" class="contact-link">+91 70421 79159</a>
                            <small>24/7 Emergency Available</small>
                        </div>
                    </div>

                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="bi bi-envelope-fill"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Email Us</h6>
                            <a href="mailto:lawanyaderma@gmail.com" class="contact-link">lawanyaderma@gmail.com</a>
                        </div>
                    </div>

                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="bi bi-clock-fill"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Working Hours</h6>
                            <div class="working-hours">
                                <div class="hours-row">
                                    <span>Mon - Sat:</span>
                                    <span>9:00 AM - 8:00 PM</span>
                                </div>
                                <div class="hours-row">
                                    <span>Sunday:</span>
                                    <span>10:00 AM - 6:00 PM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Media -->
                <div class="footer-social-section">
                    <h6 class="social-title">Follow Us</h6>
                    <div class="social-links-enhanced">
                        <a href="https://www.facebook.com/photo/?fbid=122100123681002381&set=a.122100110643002381" target="_blank" class="social-link facebook" title="Facebook">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="https://www.instagram.com/lawanya_derma/?igsh=MTVmbzUweTZnNWp2Mg%3D%3D&utm_source=qr#" target="_blank" class="social-link instagram" title="Instagram">
                            <i class="bi bi-instagram"></i>
                        </a>
                        <a href="https://wa.me/917042179159" target="_blank" class="social-link whatsapp" title="WhatsApp">
                            <i class="bi bi-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Call to Action Section -->
        <div class="footer-cta-section">
            <div class="row align-items-center">
                <div class="col-lg-8 col-md-7 mb-3 mb-md-0">
                    <div class="cta-content">
                        <h4 class="cta-title">Ready to Transform Your Beauty?</h4>
                        <p class="cta-description">Book your free consultation today and take the first step towards a more confident you!</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-5 text-md-end">
                    <div class="cta-buttons">
                        <a href="#contact" class="btn btn-primary cta-btn me-2 mb-2">
                            <i class="bi bi-calendar-check me-2"></i>Book Consultation
                        </a>
                        <a href="tel:+917042179159" class="btn btn-outline-light cta-btn mb-2">
                            <i class="bi bi-telephone me-2"></i>Call Now
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Footer -->
        <div class="footer-bottom">
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-6 mb-2 mb-md-0">
                    <p class="copyright-text">
                        &copy; <?php echo date('Y'); ?> Lawanya Derma & Aesthetic Clinic. All rights reserved.
                    </p>
                </div>
                <div class="col-lg-6 col-md-6 text-md-end">
                    <div class="footer-legal-links">
                        <a href="privacy-policy.php" class="legal-link">Privacy Policy</a>
                        <span class="separator">|</span>
                        <a href="terms-conditions.php" class="legal-link">Terms & Conditions</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Back to Top Button -->
<button id="backToTop" class="back-to-top" title="Back to Top">
    <i class="bi bi-arrow-up"></i>
</button>

<?php include 'common/chat-bot.php'; ?>

<!-- Bootstrap 5 JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<!-- Custom JavaScript -->
<script>
// WhatsApp Form Submission - Main Contact Form
const consultationForm = document.getElementById('consultationForm');
if (consultationForm) {
    consultationForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form data
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const email = document.getElementById('email').value;
        const age = document.getElementById('age').value;
        const service = document.getElementById('service').value;
        const message = document.getElementById('message').value;
        
        // Validate required fields
        if (!name || !phone || !service) {
            alert('Please fill in all required fields (Name, Phone, Service)');
            return;
        }
        
        // Send to WhatsApp
        sendToWhatsApp(name, phone, email, age, service, message);
        
        // Reset form
        this.reset();
    });
}

// WhatsApp Form Submission - Modal Form
const modalConsultationForm = document.getElementById('modalConsultationForm');
if (modalConsultationForm) {
    modalConsultationForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form data
        const name = document.getElementById('modalName').value;
        const phone = document.getElementById('modalPhone').value;
        const email = document.getElementById('modalEmail').value;
        const age = document.getElementById('modalAge').value;
        const service = document.getElementById('modalService').value;
        const message = document.getElementById('modalMessage').value;
        
        // Validate required fields
        if (!name || !phone || !service) {
            alert('Please fill in all required fields (Name, Phone, Service)');
            return;
        }
        
        // Send to WhatsApp
        sendToWhatsApp(name, phone, email, age, service, message);
        
        // Close modal
        const modal = bootstrap.Modal.getInstance(document.getElementById('consultationModal'));
        if (modal) {
            modal.hide();
        }
        
        // Reset form
        this.reset();
    });
}

// Common WhatsApp function
function sendToWhatsApp(name, phone, email, age, service, message) {
    // Create WhatsApp message
    let whatsappMessage = `ðŸ¥ *New Consultation Request - Lawanya Derma Clinic*\n\n`;
    whatsappMessage += `ðŸ‘¤ *Name:* ${name}\n`;
    whatsappMessage += `ðŸ“± *Phone:* ${phone}\n`;
    
    if (email) {
        whatsappMessage += `ðŸ“§ *Email:* ${email}\n`;
    }
    
    if (age) {
        whatsappMessage += `ðŸŽ‚ *Age:* ${age}\n`;
    }
    
    whatsappMessage += `ðŸ’Š *Interested Service:* ${service}\n`;
    
    if (message) {
        whatsappMessage += `ðŸ’¬ *Message/Concerns:* ${message}\n`;
    }
    
    whatsappMessage += `\nâ° *Submitted:* ${new Date().toLocaleString()}\n`;
    whatsappMessage += `\nðŸ™ Thank you for choosing Lawanya Derma & Aesthetic Clinic!`;
    
    // Encode message for URL
    const encodedMessage = encodeURIComponent(whatsappMessage);
    
    // WhatsApp number
    const whatsappNumber = '917042179159'; // Lawanya Derma Clinic WhatsApp number
    
    // Create WhatsApp URL
    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
    
    // Open WhatsApp
    window.open(whatsappURL, '_blank');
    
    // Show success message
    alert('Redirecting to WhatsApp... Please send the message to complete your consultation request.');
}

// Back to Top Button
window.addEventListener('scroll', function() {
    const backToTop = document.getElementById('backToTop');
    if (backToTop) {
        if (window.pageYOffset > 300) {
            backToTop.classList.add('show');
        } else {
            backToTop.classList.remove('show');
        }
    }
});

const backToTopBtn = document.getElementById('backToTop');
if (backToTopBtn) {
    backToTopBtn.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
}

// Newsletter Form
const newsletterForm = document.querySelector('.newsletter-form');
if (newsletterForm) {
    newsletterForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const email = this.querySelector('input[type="email"]').value;
        if (email) {
            alert('Thank you for subscribing! We will keep you updated with health tips and offers.');
            this.reset();
        }
    });
}

// Smooth Scrolling for Navigation Links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Navbar Scroll Effect
window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.navbar');
    if (navbar) {
        if (window.pageYOffset > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    }
});

// Enhanced Navbar Toggle Animation
const navbarToggler = document.querySelector('.custom-toggler');
const navbarCollapse = document.querySelector('.navbar-collapse');

if (navbarToggler && navbarCollapse) {
    // Add smooth animation when toggling
    navbarToggler.addEventListener('click', function() {
        // Add a small delay to sync with Bootstrap's collapse animation
        setTimeout(() => {
            const isExpanded = this.getAttribute('aria-expanded') === 'true';
            
            // Add/remove classes for enhanced animations
            if (isExpanded) {
                navbarCollapse.classList.add('menu-opening');
                navbarCollapse.classList.remove('menu-closing');
            } else {
                navbarCollapse.classList.add('menu-closing');
                navbarCollapse.classList.remove('menu-opening');
            }
        }, 50);
    });
    
    // Add stagger animation to menu items
    const navItems = document.querySelectorAll('.navbar-nav .nav-item');
    
    navbarCollapse.addEventListener('shown.bs.collapse', function() {
        navItems.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                item.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            }, index * 80);
        });
    });
    
    navbarCollapse.addEventListener('hide.bs.collapse', function() {
        navItems.forEach((item) => {
            item.style.transition = 'all 0.2s ease';
            item.style.opacity = '0';
            item.style.transform = 'translateY(-10px)';
        });
    });
    
    // Add ripple effect to toggle button
    navbarToggler.addEventListener('click', function(e) {
        const ripple = document.createElement('div');
        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        ripple.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            left: ${x}px;
            top: ${y}px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
            z-index: 1;
        `;
        
        this.appendChild(ripple);
        
        setTimeout(() => {
            ripple.remove();
        }, 600);
    });
    
    // Add ripple animation keyframes
    if (!document.getElementById('ripple-styles')) {
        const style = document.createElement('style');
        style.id = 'ripple-styles';
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(2);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    }
}

// Gallery Slider Functionality
class GallerySlider {
    constructor() {
        this.track = document.getElementById('galleryTrack');
        this.items = document.querySelectorAll('.gallery-item');
        this.prevBtn = document.getElementById('prevBtn');
        this.nextBtn = document.getElementById('nextBtn');
        this.dotsContainer = document.getElementById('galleryDots');
        this.modal = document.getElementById('galleryModal');
        
        // Check if all required elements exist
        if (!this.track || !this.items.length) {
            console.log('Gallery elements not found, skipping initialization');
            return;
        }
        
        this.currentIndex = 0;
        this.itemsPerView = this.getItemsPerView();
        this.maxIndex = Math.max(0, this.items.length - this.itemsPerView);
        this.currentModalIndex = 0;
        
        this.init();
    }
    
    getItemsPerView() {
        if (window.innerWidth <= 480) return 1;
        if (window.innerWidth <= 768) return 2;
        if (window.innerWidth <= 1024) return 3;
        return 4;
    }
    
    init() {
        this.createDots();
        this.updateSlider();
        this.bindEvents();
        
        // Auto-play slider
        this.startAutoPlay();
    }
    
    createDots() {
        if (!this.dotsContainer) return;
        
        this.dotsContainer.innerHTML = '';
        const dotsCount = Math.ceil(this.items.length / this.itemsPerView);
        
        for (let i = 0; i < dotsCount; i++) {
            const dot = document.createElement('div');
            dot.className = 'gallery-dot';
            if (i === 0) dot.classList.add('active');
            dot.addEventListener('click', () => this.goToSlide(i));
            this.dotsContainer.appendChild(dot);
        }
    }
    
    updateSlider() {
        if (!this.track) return;
        
        const itemWidth = 320; // item width + margin
        const offset = -this.currentIndex * itemWidth;
        this.track.style.transform = `translateX(${offset}px)`;
        
        // Update dots
        const dots = document.querySelectorAll('.gallery-dot');
        dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === Math.floor(this.currentIndex / this.itemsPerView));
        });
        
        // Update buttons
        if (this.prevBtn) this.prevBtn.disabled = this.currentIndex === 0;
        if (this.nextBtn) this.nextBtn.disabled = this.currentIndex >= this.maxIndex;
    }
    
    goToSlide(index) {
        this.currentIndex = index * this.itemsPerView;
        this.currentIndex = Math.min(this.currentIndex, this.maxIndex);
        this.updateSlider();
    }
    
    nextSlide() {
        if (this.currentIndex < this.maxIndex) {
            this.currentIndex++;
            this.updateSlider();
        }
    }
    
    prevSlide() {
        if (this.currentIndex > 0) {
            this.currentIndex--;
            this.updateSlider();
        }
    }
    
    openModal(index) {
        if (!this.modal || !this.items[index]) return;
        
        this.currentModalIndex = index;
        const item = this.items[index];
        const type = item.dataset.type;
        const src = item.dataset.src;
        const title = item.dataset.title || 'Gallery Item';
        const description = item.dataset.description || '';
        
        // Create modal content
        const modalContent = document.getElementById('modalContent');
        if (!modalContent) return;
        
        // Clear previous content
        modalContent.innerHTML = '';
        
        // Add media content first
        if (type === 'video') {
            const video = document.createElement('video');
            video.src = src;
            video.controls = true;
            video.autoplay = true;
            video.style.cssText = 'width: 100%; height: auto; max-height: 80vh; object-fit: contain; border-radius: 15px;';
            modalContent.appendChild(video);
        } else {
            const img = document.createElement('img');
            img.src = src;
            img.alt = title;
            img.style.cssText = 'width: 100%; height: auto; max-height: 80vh; object-fit: contain; border-radius: 15px;';
            modalContent.appendChild(img);
        }
        
        // Add navigation and close buttons
        const closeBtn = document.createElement('button');
        closeBtn.className = 'modal-close';
        closeBtn.innerHTML = '<i class="bi bi-x"></i>';
        closeBtn.onclick = () => this.closeModal();
        modalContent.appendChild(closeBtn);
        
        // Add previous button (if not first item)
        if (this.currentModalIndex > 0) {
            const prevBtn = document.createElement('button');
            prevBtn.className = 'modal-nav modal-prev';
            prevBtn.innerHTML = '<i class="bi bi-chevron-left"></i>';
            prevBtn.onclick = () => this.prevModalItem();
            modalContent.appendChild(prevBtn);
        }
        
        // Add next button (if not last item)
        if (this.currentModalIndex < this.items.length - 1) {
            const nextBtn = document.createElement('button');
            nextBtn.className = 'modal-nav modal-next';
            nextBtn.innerHTML = '<i class="bi bi-chevron-right"></i>';
            nextBtn.onclick = () => this.nextModalItem();
            modalContent.appendChild(nextBtn);
        }
        
        // Add info section
        const infoDiv = document.createElement('div');
        infoDiv.className = 'modal-info';
        infoDiv.innerHTML = `
            <h6>${title}</h6>
            <p>${description}</p>
        `;
        modalContent.appendChild(infoDiv);
        
        // Show modal
        this.modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    closeModal() {
        if (!this.modal) return;
        
        this.modal.classList.remove('active');
        document.body.style.overflow = '';
        
        // Stop any playing videos
        const video = this.modal.querySelector('video');
        if (video) {
            video.pause();
        }
    }
    
    nextModalItem() {
        if (this.currentModalIndex < this.items.length - 1) {
            this.openModal(this.currentModalIndex + 1);
        }
    }
    
    prevModalItem() {
        if (this.currentModalIndex > 0) {
            this.openModal(this.currentModalIndex - 1);
        }
    }
    
    bindEvents() {
        // Navigation buttons
        if (this.prevBtn) this.prevBtn.addEventListener('click', () => this.prevSlide());
        if (this.nextBtn) this.nextBtn.addEventListener('click', () => this.nextSlide());
        
        // Gallery item clicks
        this.items.forEach((item, index) => {
            item.addEventListener('click', () => this.openModal(index));
        });
        
        // Modal close on outside click
        if (this.modal) {
            this.modal.addEventListener('click', (e) => {
                if (e.target === this.modal) {
                    this.closeModal();
                }
            });
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (this.modal && this.modal.classList.contains('active')) {
                if (e.key === 'Escape') {
                    this.closeModal();
                }
                if (e.key === 'ArrowLeft' && this.currentModalIndex > 0) {
                    this.prevModalItem();
                }
                if (e.key === 'ArrowRight' && this.currentModalIndex < this.items.length - 1) {
                    this.nextModalItem();
                }
            }
        });
        
        // Touch/swipe support
        let startX = 0;
        let endX = 0;
        
        if (this.track) {
            this.track.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });
            
            this.track.addEventListener('touchend', (e) => {
                endX = e.changedTouches[0].clientX;
                const diff = startX - endX;
                
                if (Math.abs(diff) > 50) {
                    if (diff > 0) {
                        this.nextSlide();
                    } else {
                        this.prevSlide();
                    }
                }
            });
        }
        
        // Resize handler
        window.addEventListener('resize', () => {
            this.itemsPerView = this.getItemsPerView();
            this.maxIndex = Math.max(0, this.items.length - this.itemsPerView);
            this.currentIndex = Math.min(this.currentIndex, this.maxIndex);
            this.createDots();
            this.updateSlider();
        });
    }
    
    startAutoPlay() {
        setInterval(() => {
            if (!this.modal || !this.modal.classList.contains('active')) {
                if (this.currentIndex >= this.maxIndex) {
                    this.currentIndex = 0;
                } else {
                    this.currentIndex++;
                }
                this.updateSlider();
            }
        }, 5000); // Auto-slide every 5 seconds
    }
}

// Global variable for gallery slider
let gallerySlider;

// Initialize Gallery when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Initialize gallery slider
    gallerySlider = new GallerySlider();
});
document.querySelectorAll('.form-control, .form-select').forEach(input => {
    input.addEventListener('blur', function() {
        if (this.hasAttribute('required') && !this.value) {
            this.style.borderColor = '#dc3545';
        } else {
            this.style.borderColor = '#1a4d3a';
        }
    });
});
</script>

</body>
</html>